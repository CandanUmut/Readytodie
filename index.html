<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <title>Ahirete HazÄ±rlÄ±k DeÄŸerlendirmesi | Hereafter Readiness Assessment</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <!-- Google Font -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet" />
  <style>
    :root {
      --bg: #020617;
      --bg-soft: #020819;
      --card-bg: #020617;
      --accent: #22c55e;
      --accent-soft: rgba(34, 197, 94, 0.12);
      --accent-strong: #4ade80;
      --accent-2: #38bdf8;
      --danger: #f97373;
      --warn: #facc15;
      --text-main: #f9fafb;
      --text-soft: #9ca3af;
      --border: #1f2937;
      --radius-lg: 18px;
      --shadow-soft: 0 22px 50px rgba(0, 0, 0, 0.65);
      --transition-fast: 0.18s ease-out;
      --transition-med: 0.28s ease-out;
    }

    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      font-family: "Inter", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
        sans-serif;
      background: radial-gradient(circle at top, #0f172a 0, #020617 50%, #000 100%);
      color: var(--text-main);
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      opacity: 0;
      transition: opacity 0.4s ease-in-out;
    }

    body.loaded {
      opacity: 1;
    }

    .page {
      max-width: 1100px;
      margin: 0 auto;
      padding: 20px 16px 40px;
    }

    header.hero {
      position: relative;
      overflow: hidden;
      background:
        radial-gradient(circle at top left, #0f766e 0, #020617 40%, #020617 100%);
      border-radius: 28px;
      padding: 20px 20px 24px;
      box-shadow: var(--shadow-soft);
      margin-bottom: 28px;
      border: 1px solid rgba(148, 163, 184, 0.35);
    }

    @media (min-width: 768px) {
      header.hero {
        padding: 26px 32px 30px;
      }
    }

    .hero-inner {
      display: flex;
      flex-direction: column;
      gap: 20px;
    }

    @media (min-width: 768px) {
      .hero-inner {
        flex-direction: row;
        align-items: center;
        justify-content: space-between;
      }
    }

    .hero-main {
      max-width: 620px;
      position: relative;
      z-index: 2;
    }

    .hero-kicker {
      font-size: 0.8rem;
      text-transform: uppercase;
      letter-spacing: 0.12em;
      color: #dcfce7;
      font-weight: 600;
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 4px 10px;
      border-radius: 999px;
      background: rgba(15, 23, 42, 0.7);
      border: 1px solid rgba(148, 163, 184, 0.75);
      backdrop-filter: blur(12px);
    }

    .hero-kicker-dot {
      width: 8px;
      height: 8px;
      border-radius: 999px;
      background: var(--accent-strong);
      box-shadow: 0 0 0 6px rgba(34, 197, 94, 0.5);
    }

    .hero-title {
      margin-top: 12px;
      font-size: clamp(1.8rem, 3vw, 2.4rem);
      line-height: 1.15;
      font-weight: 700;
      color: #f9fafb;
    }

    .hero-subtitle {
      margin-top: 10px;
      font-size: 0.96rem;
      line-height: 1.7;
      color: rgba(226, 232, 240, 0.92);
    }

    .hero-meta {
      margin-top: 14px;
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      font-size: 0.78rem;
      color: #e5e7eb;
      opacity: 0.9;
    }

    .hero-meta span {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 4px 9px;
      border-radius: 999px;
      background: rgba(15, 23, 42, 0.8);
    }

    .hero-meta-icon {
      font-size: 0.9rem;
    }

    .hero-cta-row {
      margin-top: 16px;
      display: flex;
      flex-wrap: wrap;
      gap: 12px;
    }

    .btn {
      border: none;
      cursor: pointer;
      font-family: inherit;
      font-size: 0.9rem;
      border-radius: 999px;
      padding: 9px 16px;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      transition: transform var(--transition-fast), box-shadow var(--transition-fast),
        background var(--transition-fast), border-color var(--transition-fast),
        color var(--transition-fast);
      white-space: nowrap;
    }

    .btn-primary {
      background: linear-gradient(135deg, var(--accent), var(--accent-strong));
      color: #022c22;
      font-weight: 600;
      box-shadow: 0 14px 30px rgba(34, 197, 94, 0.55);
    }

    .btn-primary:hover {
      transform: translateY(-1px);
      box-shadow: 0 18px 40px rgba(34, 197, 94, 0.7);
    }

    .btn-ghost {
      background: rgba(15, 23, 42, 0.85);
      border: 1px solid rgba(148, 163, 184, 0.7);
      color: #e5e7eb;
    }

    .btn-ghost:hover {
      background: rgba(15, 23, 42, 0.96);
      transform: translateY(-1px);
    }

    .hero-orb {
      position: absolute;
      right: -50px;
      top: -60px;
      width: 210px;
      height: 210px;
      background:
        radial-gradient(circle at 30% 20%, #f9fafb 0, #22c55e 30%, #0f766e 60%, transparent 70%);
      opacity: 0.4;
      filter: blur(1px);
      pointer-events: none;
      animation: orbit 16s linear infinite;
    }

    @media (max-width: 767px) {
      .hero-orb {
        width: 150px;
        height: 150px;
        right: -30px;
        top: -30px;
      }
    }

    @keyframes orbit {
      0% { transform: translate(0,0) rotate(0deg); }
      50% { transform: translate(-10px,10px) rotate(140deg); }
      100% { transform: translate(0,0) rotate(360deg); }
    }

    .hero-aside {
      align-self: stretch;
      position: relative;
      z-index: 2;
      margin-top: 10px;
    }

    @media (min-width: 768px) {
      .hero-aside {
        max-width: 280px;
        margin-top: 0;
      }
    }

    .lang-switch {
      display: flex;
      justify-content: flex-end;
      margin-bottom: 12px;
      gap: 6px;
    }

    .lang-btn {
      font-size: 0.8rem;
      padding: 6px 11px;
      border-radius: 999px;
      background: rgba(15, 23, 42, 0.8);
      border: 1px solid rgba(148, 163, 184, 0.7);
      color: #e5e7eb;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      gap: 6px;
      transition: background var(--transition-fast), color var(--transition-fast),
        border-color var(--transition-fast), transform var(--transition-fast);
    }

    .lang-btn span.flag {
      font-size: 1rem;
    }

    .lang-btn.active {
      background: #f9fafb;
      color: #020617;
      border-color: transparent;
      transform: translateY(-1px);
    }

    .aside-card {
      background: rgba(15, 23, 42, 0.95);
      border-radius: 20px;
      padding: 14px 14px 12px;
      border: 1px solid rgba(148, 163, 184, 0.8);
      backdrop-filter: blur(12px);
      box-shadow: 0 16px 30px rgba(15, 23, 42, 0.6);
      font-size: 0.78rem;
      color: #e5e7eb;
    }

    .aside-card h3 {
      margin: 0 0 8px;
      font-size: 0.82rem;
      letter-spacing: 0.06em;
      text-transform: uppercase;
      color: #bbf7d0;
    }

    .dot-grid {
      display: grid;
      grid-template-columns: repeat(4, 8px);
      gap: 4px;
      margin-top: 6px;
    }

    .dot-grid span {
      width: 8px;
      height: 8px;
      border-radius: 999px;
      background: rgba(148, 163, 184, 0.7);
      opacity: 0.7;
      animation: pulseDots 2.2s ease-in-out infinite;
    }

    .dot-grid span:nth-child(2),
    .dot-grid span:nth-child(5),
    .dot-grid span:nth-child(10),
    .dot-grid span:nth-child(15) {
      background: var(--accent);
    }

    .dot-grid span:nth-child(2) { animation-delay: 0.1s; }
    .dot-grid span:nth-child(5) { animation-delay: 0.25s; }
    .dot-grid span:nth-child(10) { animation-delay: 0.45s; }
    .dot-grid span:nth-child(15) { animation-delay: 0.65s; }

    @keyframes pulseDots {
      0%, 100% { transform: scale(1); opacity: 0.5; }
      50% { transform: scale(1.4); opacity: 1; }
    }

    main {
      margin-top: 8px;
      display: flex;
      flex-direction: column;
      gap: 18px;
    }

    .card {
      background: radial-gradient(circle at top left, #111827 0, #020617 55%);
      border-radius: var(--radius-lg);
      padding: 18px 16px 18px;
      border: 1px solid var(--border);
      box-shadow: 0 18px 50px rgba(15, 23, 42, 0.6);
      position: relative;
      overflow: hidden;
    }

    @media (min-width: 768px) {
      .card {
        padding: 22px 22px 22px;
      }
    }

    .card::before {
      content: "";
      position: absolute;
      inset: 0;
      background: radial-gradient(circle at top left, var(--accent-soft), transparent 55%);
      opacity: 0;
      transition: opacity var(--transition-med);
      pointer-events: none;
    }

    .card:hover::before {
      opacity: 1;
    }

    .card-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 10px;
      margin-bottom: 8px;
    }

    .card-title {
      margin: 0;
      font-size: 1.05rem;
      font-weight: 600;
      display: inline-flex;
      align-items: center;
      gap: 8px;
      color: #e5e7eb;
    }

    .card-title-badge {
      font-size: 0.75rem;
      padding: 3px 8px;
      border-radius: 999px;
      background: rgba(15, 23, 42, 0.9);
      border: 1px solid rgba(148, 163, 184, 0.7);
      color: #cbd5f5;
    }

    .card-body {
      font-size: 0.9rem;
      color: var(--text-soft);
    }

    .card-body p {
      margin-top: 4px;
      margin-bottom: 4px;
    }

    .pill-row {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
      margin-top: 6px;
    }

    .pill {
      font-size: 0.72rem;
      padding: 3px 8px;
      border-radius: 999px;
      background: rgba(15, 23, 42, 0.9);
      border: 1px solid rgba(55, 65, 81, 0.9);
      color: #9ca3af;
    }

    form#assessment-form {
      margin-top: 4px;
      display: flex;
      flex-direction: column;
      gap: 16px;
    }

    .grid-basic {
      display: grid;
      grid-template-columns: minmax(0, 1.1fr) minmax(0, 1.2fr);
      gap: 10px;
    }

    @media (max-width: 640px) {
      .grid-basic {
        grid-template-columns: minmax(0, 1fr);
      }
    }

    .field {
      display: flex;
      flex-direction: column;
      gap: 4px;
      font-size: 0.86rem;
    }

    .field label {
      color: #e5e7eb;
      font-weight: 500;
    }

    .field span.helper {
      font-size: 0.76rem;
      color: var(--text-soft);
    }

    input[type="number"],
    select {
      padding: 7px 10px;
      border-radius: 10px;
      border: 1px solid rgba(55, 65, 81, 0.9);
      background: rgba(15, 23, 42, 0.95);
      color: #e5e7eb;
      font-size: 0.9rem;
      outline: none;
      transition: border-color var(--transition-fast),
        box-shadow var(--transition-fast), background var(--transition-fast);
    }

    input[type="number"]:focus,
    select:focus {
      border-color: var(--accent-2);
      box-shadow: 0 0 0 1px rgba(56, 189, 248, 0.6);
      background: rgba(15, 23, 42, 1);
    }

    input[type="number"]::-webkit-inner-spin-button,
    input[type="number"]::-webkit-outer-spin-button {
      -webkit-appearance: none;
      margin: 0;
    }

    .question-section {
      margin-top: 10px;
      padding-top: 10px;
      border-top: 1px solid rgba(31, 41, 55, 0.9);
      opacity: 0;
      transform: translateY(4px);
      transition: opacity 0.3s ease-out, transform 0.3s ease-out;
    }

    .question-section.visible {
      opacity: 1;
      transform: translateY(0);
    }

    .question-section-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 8px;
      margin-bottom: 4px;
    }

    .question-section-title {
      font-size: 0.95rem;
      font-weight: 600;
      color: #e5e7eb;
    }

    .question-section-desc {
      font-size: 0.8rem;
      color: var(--text-soft);
    }

    .question {
      margin-top: 10px;
      padding: 9px 10px;
      border-radius: 14px;
      background: rgba(15, 23, 42, 0.9);
      border: 1px solid rgba(31, 41, 55, 0.95);
      transition: border-color var(--transition-fast),
        background var(--transition-fast), transform var(--transition-fast),
        box-shadow var(--transition-fast);
    }

    .question:hover {
      border-color: rgba(34, 197, 94, 0.8);
      background: rgba(15, 23, 42, 1);
      transform: translateY(-1px);
      box-shadow: 0 10px 25px rgba(15, 23, 42, 0.7);
    }

    .question-label {
      font-size: 0.86rem;
      margin-bottom: 6px;
      color: #e5e7eb;
      font-weight: 500;
    }

    .options {
      display: flex;
      flex-direction: column;
      gap: 4px;
      font-size: 0.82rem;
      margin-top: 2px;
    }

    .option-row {
      display: flex;
      align-items: center;
      gap: 6px;
      cursor: pointer;
    }

    .option-row input[type="radio"] {
      accent-color: var(--accent);
    }

    .option-label {
      color: var(--text-soft);
    }

    .progress-container {
      margin-top: 8px;
      font-size: 0.78rem;
      color: var(--text-soft);
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 8px;
    }

    .progress-bar {
      flex: 1;
      height: 6px;
      border-radius: 999px;
      background: rgba(15, 23, 42, 0.9);
      border: 1px solid rgba(31, 41, 55, 0.9);
      overflow: hidden;
    }

    .progress-fill {
      height: 100%;
      width: 0;
      background: linear-gradient(90deg, var(--accent-2), var(--accent));
      transition: width 0.3s ease-out;
    }

    .form-footer {
      margin-top: 10px;
      display: flex;
      flex-wrap: wrap;
      justify-content: space-between;
      align-items: center;
      gap: 10px;
      padding-top: 8px;
      border-top: 1px dashed rgba(55, 65, 81, 0.9);
      font-size: 0.78rem;
      color: var(--text-soft);
    }

    .form-footer-right {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      align-items: center;
    }

    .note {
      font-size: 0.8rem;
      color: var(--text-soft);
      margin-top: 6px;
    }

    .note strong {
      color: #e5e7eb;
    }

    .results-card {
      opacity: 0;
      transform: translateY(8px);
      max-height: 0;
      overflow: hidden;
      transition: opacity 0.35s ease, transform 0.35s ease, max-height 0.35s ease;
    }

    .results-card.visible {
      opacity: 1;
      transform: translateY(0);
      max-height: 800px;
    }

    .results-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(210px, 1fr));
      gap: 14px;
      margin-top: 6px;
    }

    .result-pill {
      background: rgba(15, 23, 42, 0.98);
      border-radius: 16px;
      padding: 10px 11px;
      border: 1px solid rgba(31, 41, 55, 0.95);
      position: relative;
      overflow: hidden;
    }

    .result-pill::before {
      content: "";
      position: absolute;
      inset: 0;
      background: radial-gradient(circle at top left, rgba(34, 197, 94, 0.16), transparent 60%);
      opacity: 0.9;
      pointer-events: none;
    }

    .result-label {
      font-size: 0.8rem;
      color: var(--text-soft);
      margin-bottom: 2px;
    }

    .result-value {
      font-size: 1.4rem;
      font-weight: 700;
      color: #e5e7eb;
    }

    .result-tagline {
      font-size: 0.8rem;
      margin-top: 4px;
      color: #e5e7eb;
    }

    .badge {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 3px 8px;
      border-radius: 999px;
      font-size: 0.75rem;
      border: 1px solid rgba(55, 65, 81, 0.95);
      background: rgba(15, 23, 42, 0.96);
      color: var(--text-soft);
    }

    .badge-dot {
      width: 8px;
      height: 8px;
      border-radius: 999px;
    }

    .badge-dot.green { background: var(--accent); }
    .badge-dot.yellow { background: var(--warn); }
    .badge-dot.red { background: var(--danger); }

    .focus-areas {
      margin-top: 10px;
      padding-top: 8px;
      border-top: 1px dashed rgba(55, 65, 81, 0.9);
      font-size: 0.82rem;
    }

    .focus-chip-row {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
      margin-top: 6px;
    }

    .focus-chip {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 4px 8px;
      border-radius: 999px;
      background: rgba(15, 23, 42, 0.9);
      border: 1px dashed rgba(55, 65, 81, 0.9);
      font-size: 0.78rem;
      color: var(--text-soft);
    }

    footer {
      margin-top: 18px;
      font-size: 0.78rem;
      color: var(--text-soft);
      text-align: center;
      opacity: 0.85;
    }

    @media (prefers-reduced-motion: reduce) {
      * {
        scroll-behavior: auto !important;
        animation: none !important;
        transition: none !important;
      }
    }
  </style>
</head>
<body>
  <div class="page">
    <header class="hero">
      <div class="hero-orb"></div>
      <div class="hero-inner">
        <div class="hero-main">
          <div class="hero-kicker">
            <span class="hero-kicker-dot"></span>
            <span data-i18n="kicker">
              Kurâ€™an & SÃ¼nnet ekseninde muhasebe / Qurâ€™an & Sunnahâ€“inspired self-accounting
            </span>
          </div>
          <h1 class="hero-title" data-i18n="heroTitle">
            Ahirete HazÄ±rlÄ±k DeÄŸerlendirmesi
          </h1>
          <p class="hero-subtitle" data-i18n="heroSubtitle">
            Bu anket, Kurâ€™an ve sahih SÃ¼nnetâ€™in temel ilkeleri Ä±ÅŸÄ±ÄŸÄ±nda; inanÃ§, ibadet, ahlak,
            kul haklarÄ±, ilim, tÃ¶vbe ve kalp hÃ¢li Ã¼zerinde durarak, kendini â€œhesaba Ã§ekmenâ€
            iÃ§in hazÄ±rlanmÄ±ÅŸ bir Ã¶z-muhasebe aracÄ±dÄ±r. Kimsenin hÃ¼kmÃ¼nÃ¼ vermez; sadece
            uyanmaya ve yÃ¶nÃ¼nÃ¼ dÃ¼zeltmeye yardÄ±m etmeyi amaÃ§lar.
          </p>
          <div class="hero-meta">
            <span><span class="hero-meta-icon">â±ï¸</span><span data-i18n="metaTime">SÃ¼re: 7â€“12 dakika</span></span>
            <span><span class="hero-meta-icon">ğŸ•Šï¸</span><span data-i18n="metaFocus">Ä°man, amel, ahlak ve kalp</span></span>
            <span><span class="hero-meta-icon">ğŸ”’</span><span data-i18n="metaPrivacy">YanÄ±tlarÄ±n tarayÄ±cÄ±da kalÄ±r; sunucuya gÃ¶nderilmez</span></span>
          </div>
          <div class="hero-cta-row">
            <button class="btn btn-primary" id="start-btn">
              <span data-i18n="btnStart">Muhasebeye BaÅŸla</span> <span>â–¶</span>
            </button>
            <button class="btn btn-ghost" id="scroll-info-btn">
              <span data-i18n="btnLearn">Testin yaklaÅŸÄ±mÄ±</span>
            </button>
          </div>
        </div>
        <div class="hero-aside">
          <div class="lang-switch">
            <button class="lang-btn active" data-lang="tr" id="lang-tr">
              <span class="flag">ğŸ‡¹ğŸ‡·</span> <span>TÃ¼rkÃ§e</span>
            </button>
            <button class="lang-btn" data-lang="en" id="lang-en">
              <span class="flag">ğŸ‡¬ğŸ‡§</span> <span>English</span>
            </button>
          </div>
          <div class="aside-card">
            <h3 data-i18n="asideTitle">Ã–nemli uyarÄ±</h3>
            <p data-i18n="asideText">
              Bu test, Allah katÄ±ndaki deÄŸerini, cennete veya cehenneme gidiÅŸini <strong>belirlemez</strong>.
              Kalpleri ve niyetleri en iyi bilen yalnÄ±zca Allahâ€™tÄ±r. Buradaki amaÃ§, klasik â€œÃ¶lmeden Ã¶nce 
              kendini hesaba Ã§ekâ€ tavsiyesini, modern bir Ã¶z-deÄŸerlendirme aracÄ±yla desteklemektir.
              FÄ±khi bir meselede mutlaka ehil bir Ã¢lime danÄ±ÅŸmalÄ±sÄ±n.
            </p>
            <div class="dot-grid" aria-hidden="true">
              <span></span><span></span><span></span><span></span>
              <span></span><span></span><span></span><span></span>
              <span></span><span></span><span></span><span></span>
              <span></span><span></span><span></span><span></span>
            </div>
          </div>
        </div>
      </div>
    </header>

    <main>
      <section class="card" id="info-card">
        <div class="card-header">
          <h2 class="card-title">
            <span data-i18n="infoTitle">Bu deÄŸerlendirme neyi amaÃ§lÄ±yor?</span>
            <span class="card-title-badge" data-i18n="infoBadge">Ä°man + amel + ahlak + kalp</span>
          </h2>
        </div>
        <div class="card-body">
          <p data-i18n="infoP1">
            Kurâ€™an ve sahih SÃ¼nnetâ€™te; tevhid, salih amel, gÃ¼zel ahlak, kul haklarÄ±, takva,
            tÃ¶vbe ve ihlas sÃ¼rekli vurgulanÄ±r. Bu test, bu bÃ¼yÃ¼k baÅŸlÄ±klarÄ±n altÄ±na giren bazÄ± 
            gÃ¼ncel davranÄ±ÅŸ ve kalp hallerini sorarak, senin dÃ¼nyadaki yÃ¶neliÅŸini â€œtahminiâ€ bir
            ÅŸekilde gÃ¶rmene yardÄ±m eder.
          </p>
          <p data-i18n="infoP2">
            Sorular; ilim (bilgi), amel (uygulama) ve kalp (niyet, ihlas, tevazu) boyutunu ayrÄ± 
            ayrÄ± puanlamaya Ã§alÄ±ÅŸÄ±r ve bunlardan bir â€œAhirete HazÄ±rlÄ±k Skoruâ€ Ã¼retir. Bu skor kesin 
            bir hÃ¼kÃ¼m deÄŸil, sadece nerede gÃ¼Ã§lenmek isteyebileceÄŸini gÃ¶steren bir iÅŸarettir.
          </p>
          <div class="pill-row">
            <span class="pill" data-i18n="pillIman">ğŸ•‹ Tevhid & iman esaslarÄ±</span>
            <span class="pill" data-i18n="pillIbadah">ğŸ•Œ Ä°badet & salih amel</span>
            <span class="pill" data-i18n="pillAkhlaq">ğŸ¤ Ahlak & kul haklarÄ±</span>
            <span class="pill" data-i18n="pillQalb">âœ¨ Kalp, tÃ¶vbe & ihlas</span>
          </div>
        </div>
      </section>

      <section class="card" id="form-card">
        <div class="card-header">
          <h2 class="card-title">
            <span data-i18n="formTitle">KiÅŸisel Muhasebe Formu</span>
            <span class="card-title-badge" data-i18n="formBadge">Ahirete hazÄ±rlÄ±k puanÄ±</span>
          </h2>
        </div>
        <div class="card-body">
          <form id="assessment-form">
            <div class="grid-basic">
              <div class="field">
                <label for="age-input" data-i18n="labelAge">Kronolojik yaÅŸÄ±n (yÄ±l)</label>
                <input
                  type="number"
                  id="age-input"
                  name="age"
                  min="10"
                  max="100"
                  required
                  placeholder="Ã–rn. 28" />
                <span class="helper" data-i18n="helperAge">
                  Sadece yorum kÄ±smÄ±nda kullanÄ±lÄ±r; puan doÄŸrudan yaÅŸa gÃ¶re deÄŸil, cevaplara gÃ¶re hesaplanÄ±r.
                </span>
              </div>
              <div class="field">
                <label for="faith-level" data-i18n="labelFaith">Kendini aÅŸaÄŸÄ±dakilerden hangisine daha yakÄ±n gÃ¶rÃ¼yorsun?</label>
                <select id="faith-level" name="faithLevel">
                  <option value="muslim_practicing" data-i18n="faithPracticing">MÃ¼slÃ¼manÄ±m, hem inanÃ§ hem amel yÃ¶nÃ¼nden baÄŸlÄ± kalmaya Ã§alÄ±ÅŸÄ±yorum</option>
                  <option value="muslim_cultural" data-i18n="faithCultural">MÃ¼slÃ¼manÄ±m ama Ã§oÄŸu ÅŸeyi kÃ¼ltÃ¼rel ve daÄŸÄ±nÄ±k yaÅŸÄ±yorum</option>
                  <option value="exploring" data-i18n="faithExploring">Ä°slamâ€™Ä± anlamaya/araÅŸtÄ±rmaya Ã§alÄ±ÅŸÄ±yorum</option>
                  <option value="other" data-i18n="faithOther">FarklÄ± bir inanca sahibim veya emin deÄŸilim</option>
                </select>
                <span class="helper" data-i18n="helperFaith">
                  Bu bilgi sadece yorum dilini biraz uyarlamak iÃ§in kullanÄ±lÄ±r; kimse iÃ§in hÃ¼kÃ¼m vermez.
                </span>
              </div>
            </div>

            <div class="progress-container">
              <span id="progress-text" data-i18n="progressText">YanÄ±tlanan soru: 0 / 0</span>
              <div class="progress-bar">
                <div class="progress-fill" id="progress-fill"></div>
              </div>
            </div>

            <div id="question-sections"></div>

            <div class="form-footer">
              <div>
                <span data-i18n="footerLeft">
                  LÃ¼tfen mÃ¼mkÃ¼n olduÄŸunca dÃ¼rÃ¼st ol; bu test sadece seninle Allah arasÄ±nda bir Ã¶z muhasebe niyetindedir.
                </span>
              </div>
              <div class="form-footer-right">
                <span class="badge">
                  <span class="badge-dot green"></span>
                  <span data-i18n="badgeGood">Salih amel ve ihlas puanÄ± yÃ¼kseltir</span>
                </span>
                <span class="badge">
                  <span class="badge-dot.red"></span>
                  <span data-i18n="badgeRisk">Israr edilen gÃ¼nahlar ve gaflet puanÄ± dÃ¼ÅŸÃ¼rÃ¼r</span>
                </span>
                <button type="submit" class="btn btn-primary">
                  <span data-i18n="btnCalculate">Sonucu Hesapla</span> <span>ğŸ“Š</span>
                </button>
              </div>
            </div>
            <p class="note" data-i18n="noteDisclaimer">
              <strong>Ã–nemli:</strong> Bu test ne bir fetva, ne de kesin hÃ¼kÃ¼m aracÄ±dÄ±r. GÃ¼nah, tÃ¶vbe veya
              Ã¶zel bir fÄ±khi mesele hakkÄ±nda endiÅŸen varsa ehil bir Ã¢lime veya gÃ¼venilir ilim ehline danÄ±ÅŸmalÄ±sÄ±n.
              Bu araÃ§ sadece dÃ¼zenli Ã¶z muhasebe alÄ±ÅŸkanlÄ±ÄŸÄ± kazandÄ±rmak iÃ§indir.
            </p>
          </form>
        </div>
      </section>

      <section class="card results-card" id="results-card">
        <div class="card-header">
          <h2 class="card-title">
            <span data-i18n="resultsTitle">SonuÃ§larÄ±n</span>
            <span class="card-title-badge" data-i18n="resultsBadge">Ã–zet & odak alanlarÄ±</span>
          </h2>
        </div>
        <div class="card-body">
          <div class="results-grid">
            <div class="result-pill">
              <div class="result-label" data-i18n="resChronological">Kronolojik yaÅŸÄ±n</div>
              <div class="result-value"><span id="res-age-chronological">â€“</span></div>
            </div>
            <div class="result-pill">
              <div class="result-label" data-i18n="resKnowledge">Ä°lim boyutu (bilgi) puanÄ±n</div>
              <div class="result-value"><span id="res-knowledge">â€“</span> / 100</div>
              <div class="result-tagline" id="res-knowledge-tagline">â€”</div>
            </div>
            <div class="result-pill">
              <div class="result-label" data-i18n="resPractice">Amel boyutu (uygulama) puanÄ±n</div>
              <div class="result-value"><span id="res-practice">â€“</span> / 100</div>
              <div class="result-tagline" id="res-practice-tagline">â€”</div>
            </div>
            <div class="result-pill">
              <div class="result-label" data-i18n="resHeart">Kalp boyutu (ihlas, tÃ¶vbe, tevazu) puanÄ±n</div>
              <div class="result-value"><span id="res-heart">â€“</span> / 100</div>
              <div class="result-tagline" id="res-heart-tagline">â€”</div>
            </div>
            <div class="result-pill">
              <div class="result-label" data-i18n="resReadiness">Genel Ahirete HazÄ±rlÄ±k Skoru</div>
              <div class="result-value"><span id="res-readiness">â€“</span> / 100</div>
            </div>
          </div>

          <div class="focus-areas">
            <p id="res-interpretation">
              <!-- JS fills with language-specific text -->
            </p>
            <div>
              <span data-i18n="focusTitle">
                Ã–ne Ã§Ä±kan â€œdikkat edilebilecek alanlarâ€:
              </span>
              <div class="focus-chip-row" id="focus-chip-row">
                <!-- JS adds chips -->
              </div>
            </div>
          </div>
        </div>
      </section>
    </main>

    <footer>
      <span data-i18n="footerText">
        Bu araÃ§, klasik Ä°slami Ã¶z-muhasebe geleneÄŸini destekleyen modern bir hatÄ±rlatÄ±cÄ±dÄ±r.
        Her ÅŸeyin en doÄŸrusunu bilen yalnÄ±zca Allahâ€™tÄ±r. Kodunu GitHubâ€™da barÄ±ndÄ±rabilir ve dilediÄŸin gibi geliÅŸtirebilirsin.
      </span>
    </footer>
  </div>

  <script>
    // --- UI TEXT (TR & EN) ---
    const uiText = {
      tr: {
        kicker: "Kurâ€™an & SÃ¼nnet ekseninde muhasebe / Qurâ€™an & Sunnahâ€“inspired self-accounting",
        heroTitle: "Ahirete HazÄ±rlÄ±k DeÄŸerlendirmesi",
        heroSubtitle:
          "Bu anket, Kurâ€™an ve sahih SÃ¼nnetâ€™in temel ilkeleri Ä±ÅŸÄ±ÄŸÄ±nda; inanÃ§, ibadet, ahlak, kul haklarÄ±, ilim, tÃ¶vbe ve kalp hÃ¢li Ã¼zerinde durarak, kendini â€œhesaba Ã§ekmenâ€ iÃ§in hazÄ±rlanmÄ±ÅŸ bir Ã¶z-muhasebe aracÄ±dÄ±r. Kimsenin hÃ¼kmÃ¼nÃ¼ vermez; sadece uyanmaya ve yÃ¶nÃ¼nÃ¼ dÃ¼zeltmeye yardÄ±m etmeyi amaÃ§lar.",
        metaTime: "SÃ¼re: 7â€“12 dakika",
        metaFocus: "Ä°man, amel, ahlak ve kalp",
        metaPrivacy: "YanÄ±tlarÄ±n tarayÄ±cÄ±da kalÄ±r; sunucuya gÃ¶nderilmez",
        btnStart: "Muhasebeye BaÅŸla",
        btnLearn: "Testin yaklaÅŸÄ±mÄ±",
        asideTitle: "Ã–nemli uyarÄ±",
        asideText:
          "Bu test, Allah katÄ±ndaki deÄŸerini, cennete veya cehenneme gidiÅŸini <strong>belirlemez</strong>. Kalpleri ve niyetleri en iyi bilen yalnÄ±zca Allahâ€™tÄ±r. Buradaki amaÃ§, klasik â€œÃ¶lmeden Ã¶nce kendini hesaba Ã§ekâ€ tavsiyesini modern bir Ã¶z-deÄŸerlendirme aracÄ±yla desteklemektir. FÄ±khi bir meselede mutlaka ehil bir Ã¢lime danÄ±ÅŸmalÄ±sÄ±n.",
        infoTitle: "Bu deÄŸerlendirme neyi amaÃ§lÄ±yor?",
        infoBadge: "Ä°man + amel + ahlak + kalp",
        infoP1:
          "Kurâ€™an ve sahih SÃ¼nnetâ€™te; tevhid, salih amel, gÃ¼zel ahlak, kul haklarÄ±, takva, tÃ¶vbe ve ihlas sÃ¼rekli vurgulanÄ±r. Bu test, bu bÃ¼yÃ¼k baÅŸlÄ±klarÄ±n altÄ±na giren bazÄ± gÃ¼ncel davranÄ±ÅŸ ve kalp hallerini sorarak, senin dÃ¼nyadaki yÃ¶neliÅŸini â€œtahminiâ€ bir ÅŸekilde gÃ¶rmene yardÄ±m eder.",
        infoP2:
          "Sorular; ilim (bilgi), amel (uygulama) ve kalp (niyet, ihlas, tevazu) boyutunu ayrÄ± ayrÄ± puanlamaya Ã§alÄ±ÅŸÄ±r ve bunlardan bir â€œAhirete HazÄ±rlÄ±k Skoruâ€ Ã¼retir. Bu skor kesin bir hÃ¼kÃ¼m deÄŸil, sadece nerede gÃ¼Ã§lenmek isteyebileceÄŸini gÃ¶steren bir iÅŸarettir.",
        pillIman: "ğŸ•‹ Tevhid & iman esaslarÄ±",
        pillIbadah: "ğŸ•Œ Ä°badet & salih amel",
        pillAkhlaq: "ğŸ¤ Ahlak & kul haklarÄ±",
        pillQalb: "âœ¨ Kalp, tÃ¶vbe & ihlas",
        formTitle: "KiÅŸisel Muhasebe Formu",
        formBadge: "Ahirete hazÄ±rlÄ±k puanÄ±",
        labelAge: "Kronolojik yaÅŸÄ±n (yÄ±l)",
        helperAge:
          "Sadece yorum kÄ±smÄ±nda kullanÄ±lÄ±r; puan doÄŸrudan yaÅŸa gÃ¶re deÄŸil, cevaplara gÃ¶re hesaplanÄ±r.",
        labelFaith: "Kendini aÅŸaÄŸÄ±dakilerden hangisine daha yakÄ±n gÃ¶rÃ¼yorsun?",
        faithPracticing: "MÃ¼slÃ¼manÄ±m, hem inanÃ§ hem amel yÃ¶nÃ¼nden baÄŸlÄ± kalmaya Ã§alÄ±ÅŸÄ±yorum",
        faithCultural: "MÃ¼slÃ¼manÄ±m ama Ã§oÄŸu ÅŸeyi kÃ¼ltÃ¼rel ve daÄŸÄ±nÄ±k yaÅŸÄ±yorum",
        faithExploring: "Ä°slamâ€™Ä± anlamaya/araÅŸtÄ±rmaya Ã§alÄ±ÅŸÄ±yorum",
        faithOther: "FarklÄ± bir inanca sahibim veya emin deÄŸilim",
        helperFaith:
          "Bu bilgi sadece yorum dilini biraz uyarlamak iÃ§in kullanÄ±lÄ±r; kimse iÃ§in hÃ¼kÃ¼m vermez.",
        progressText: "YanÄ±tlanan soru: 0 / 0",
        footerLeft:
          "LÃ¼tfen mÃ¼mkÃ¼n olduÄŸunca dÃ¼rÃ¼st ol; bu test sadece seninle Allah arasÄ±nda bir Ã¶z muhasebe niyetindedir.",
        badgeGood: "Salih amel ve ihlas puanÄ± yÃ¼kseltir",
        badgeRisk: "Israr edilen gÃ¼nahlar ve gaflet puanÄ± dÃ¼ÅŸÃ¼rÃ¼r",
        btnCalculate: "Sonucu Hesapla",
        noteDisclaimer:
          "<strong>Ã–nemli:</strong> Bu test ne bir fetva, ne de kesin hÃ¼kÃ¼m aracÄ±dÄ±r. GÃ¼nah, tÃ¶vbe veya Ã¶zel bir fÄ±khi mesele hakkÄ±nda endiÅŸen varsa ehil bir Ã¢lime veya gÃ¼venilir ilim ehline danÄ±ÅŸmalÄ±sÄ±n. Bu araÃ§ sadece dÃ¼zenli Ã¶z muhasebe alÄ±ÅŸkanlÄ±ÄŸÄ± kazandÄ±rmak iÃ§indir.",
        resultsTitle: "SonuÃ§larÄ±n",
        resultsBadge: "Ã–zet & odak alanlarÄ±",
        resChronological: "Kronolojik yaÅŸÄ±n",
        resKnowledge: "Ä°lim boyutu (bilgi) puanÄ±n",
        resPractice: "Amel boyutu (uygulama) puanÄ±n",
        resHeart: "Kalp boyutu (ihlas, tÃ¶vbe, tevazu) puanÄ±n",
        resReadiness: "Genel Ahirete HazÄ±rlÄ±k Skoru",
        focusTitle: "Ã–ne Ã§Ä±kan â€œdikkat edilebilecek alanlarâ€:",
        footerText:
          "Bu araÃ§, klasik Ä°slami Ã¶z-muhasebe geleneÄŸini destekleyen modern bir hatÄ±rlatÄ±cÄ±dÄ±r. Her ÅŸeyin en doÄŸrusunu bilen yalnÄ±zca Allahâ€™tÄ±r. Kodunu GitHubâ€™da barÄ±ndÄ±rabilir ve dilediÄŸin gibi geliÅŸtirebilirsin.",
      },
      en: {
        kicker: "Qurâ€™an & Sunnahâ€“inspired self-accounting",
        heroTitle: "Hereafter Readiness Assessment",
        heroSubtitle:
          "This questionnaire, inspired by the Qurâ€™an and authentic Sunnah, invites you to reflect on belief, worship, character, peopleâ€™s rights, knowledge, repentance and heart state. It does not judge who is saved; it simply supports the classical advice to â€œtake yourself to account before you are taken to account.â€",
        metaTime: "Time: 7â€“12 minutes",
        metaFocus: "Faith, practice, character and heart",
        metaPrivacy: "Your answers stay in your browser; nothing is sent to a server",
        btnStart: "Start Self-Accountability",
        btnLearn: "How this test works",
        asideTitle: "Important note",
        asideText:
          "This test does <strong>not</strong> determine your status with Allah, nor your final place in the Hereafter. Only Allah truly knows hearts and intentions. The purpose is to support the classical Islamic practice of self-accounting in a modern format. For any legal/fiqh issue you must consult qualified scholars.",
        infoTitle: "What is the goal of this assessment?",
        infoBadge: "Faith + practice + character + heart",
        infoP1:
          "The Qurâ€™an and authentic Sunnah repeatedly emphasize tawheed, righteous deeds, good character, peopleâ€™s rights, taqwa, repentance and sincerity. This test uses questions about modern daily life and heart states under these themes to help you see where your direction may be leaning.",
        infoP2:
          "The questions try to separately estimate knowledge, practice and heart (intention, sincerity, humility), then compute a â€œHereafter Readiness Score.â€ This is not a verdict; it is a sign of where you might want to strengthen yourself.",
        pillIman: "ğŸ•‹ Tawheed & core beliefs",
        pillIbadah: "ğŸ•Œ Worship & righteous deeds",
        pillAkhlaq: "ğŸ¤ Character & peopleâ€™s rights",
        pillQalb: "âœ¨ Heart, repentance & sincerity",
        formTitle: "Personal Self-Accounting Form",
        formBadge: "Hereafter readiness score",
        labelAge: "Chronological age (years)",
        helperAge:
          "Used only in the interpretation text; the score is based on your answers, not your age directly.",
        labelFaith: "Which description fits you the most right now?",
        faithPracticing: "I am Muslim and I try to be committed in belief and practice",
        faithCultural: "I am Muslim but I live it mostly in a cultural / scattered way",
        faithExploring: "I am exploring / trying to understand Islam",
        faithOther: "I follow another path or Iâ€™m not sure",
        helperFaith:
          "This information only shapes the tone of the feedback a little; it does not give a verdict about anyone.",
        progressText: "Answered questions: 0 / 0",
        footerLeft:
          "Please be as honest as you can; this test is intended only as self-reflection between you and Allah.",
        badgeGood: "Sincere righteous deeds increase your score",
        badgeRisk: "Persisting in sins and heedlessness lowers it",
        btnCalculate: "Calculate Results",
        noteDisclaimer:
          "<strong>Important:</strong> This is not a fatwa and not a tool of final judgment. If you have worries about sin, repentance or any specific legal issue, speak to qualified scholars or trusted students of knowledge. This tool is only to encourage regular self-accounting.",
        resultsTitle: "Your Results",
        resultsBadge: "Summary & focus areas",
        resChronological: "Your chronological age",
        resKnowledge: "Knowledge dimension score",
        resPractice: "Practice dimension score",
        resHeart: "Heart dimension score (sincerity, repentance, humility)",
        resReadiness: "Overall Hereafter Readiness Score",
        focusTitle: "Highlighted areas to gently focus on:",
        footerText:
          "This tool is a modern reminder inspired by the classical Islamic tradition of self-accounting. Allah alone knows everything perfectly. You can host and extend the code on GitHub as you like.",
      },
    };

    // --- QUESTION DEFINITIONS ---
    // Each question contributes to knowledge, practice, heart and overall readiness
    const questionSectionsDef = [
      {
        id: "aqeedah",
        title: {
          tr: "Ä°man & tevhid farkÄ±ndalÄ±ÄŸÄ±",
          en: "Faith & tawheed awareness",
        },
        desc: {
          tr: "Ä°manÄ±n temeli: Allahâ€™a, ahirete, meleklere, kitaplara, peygamberlere ve kadere iman.",
          en: "Foundations of faith: belief in Allah, the Hereafter, angels, books, messengers and divine decree.",
        },
        questions: [
          {
            id: "aqeedah_certainty",
            text: {
              tr: "Allahâ€™a, ahirete ve temel iman esaslarÄ±na dair iÃ§indeki yakÃ®n (kalp huzuru ve kesinlik) hÃ¢lini nasÄ±l tarif edersin?",
              en: "How would you describe your inner certainty (yaqeen) about Allah, the Hereafter and the core pillars of faith?",
            },
            options: [
              {
                value: "a",
                text: {
                  tr: "Ã‡ok sÄ±k ÅŸÃ¼pheleniyorum ve bu konularÄ± pek dÃ¼ÅŸÃ¼nmek istemiyorum",
                  en: "I often feel doubtful and tend to avoid thinking about these matters",
                },
                knowledgeDelta: -8,
                practiceDelta: -3,
                heartDelta: -6,
              },
              {
                value: "b",
                text: {
                  tr: "Bazen ÅŸÃ¼phelerim oluyor ama cevap aramaya Ã§alÄ±ÅŸÄ±yorum",
                  en: "I sometimes have doubts but I try to seek answers",
                },
                knowledgeDelta: -2,
                practiceDelta: 0,
                heartDelta: -1,
              },
              {
                value: "c",
                text: {
                  tr: "Genelde emin hissediyorum, ara sÄ±ra iÃ§im daralsa da temel imanÄ±m saÄŸlam",
                  en: "I usually feel secure in faith even if I occasionally feel low or confused",
                },
                knowledgeDelta: +2,
                practiceDelta: +1,
                heartDelta: +2,
              },
              {
                value: "d",
                text: {
                  tr: "Temel iman esaslarÄ±nda derin bir huzur ve teslimiyet hissediyorum",
                  en: "I feel deep tranquility and submission regarding the core pillars of faith",
                },
                knowledgeDelta: +4,
                practiceDelta: +2,
                heartDelta: +4,
              },
            ],
          },
          {
            id: "aqeedah_shahada",
            text: {
              tr: "â€œLa ilahe illallah Muhammedun Resulullahâ€ ÅŸehadetini kalbinde yenileme ve anlamÄ±nÄ± tefekkÃ¼r etme hÃ¢lin nasÄ±ldÄ±r?",
              en: "How often do you renew and reflect on the meaning of the shahadah in your heart?",
            },
            options: [
              {
                value: "a",
                text: {
                  tr: "Sadece dilimde, anlamÄ±nÄ± nadiren dÃ¼ÅŸÃ¼nÃ¼yorum",
                  en: "Mostly on my tongue only; I rarely reflect on its meaning",
                },
                knowledgeDelta: -3,
                practiceDelta: -2,
                heartDelta: -4,
              },
              {
                value: "b",
                text: {
                  tr: "Ara sÄ±ra hatÄ±rlÄ±yor ve dÃ¼ÅŸÃ¼nÃ¼yorum",
                  en: "I remember and think about it from time to time",
                },
                knowledgeDelta: 0,
                practiceDelta: 0,
                heartDelta: +1,
              },
              {
                value: "c",
                text: {
                  tr: "DÃ¼zenli olarak iÃ§imden tekrar ediyor, anlamÄ±nÄ± hatÄ±rlamaya Ã§alÄ±ÅŸÄ±yorum",
                  en: "I regularly repeat it inwardly and try to recall its meaning",
                },
                knowledgeDelta: +2,
                practiceDelta: +1,
                heartDelta: +3,
              },
              {
                value: "d",
                text: {
                  tr: "Hem dilimde hem kalbimde, hayat tercihleriyle de baÄŸlÄ± hissetmeye Ã§alÄ±ÅŸÄ±yorum",
                  en: "I try to keep it on my tongue, in my heart and reflected in life choices",
                },
                knowledgeDelta: +3,
                practiceDelta: +3,
                heartDelta: +4,
              },
            ],
          },
        ],
      },
      {
        id: "ibadah",
        title: {
          tr: "Namaz, Kurâ€™an ve ibadet dÃ¼zeni",
          en: "Prayer, Qurâ€™an and worship routine",
        },
        desc: {
          tr: "Namaz, mÃ¼minin direÄŸidir; Kurâ€™an, kalbin nurudur. Ä°badetlerdeki hÃ¢l, hazÄ±rlÄ±ÄŸÄ±n merkezindedir.",
          en: "Prayer is the pillar of faith; the Qurâ€™an is light for the heart. Your worship is central to readiness.",
        },
        questions: [
          {
            id: "prayer_consistency",
            text: {
              tr: "BeÅŸ vakit namaz konusunda genel hÃ¢lin hangisine daha yakÄ±n?",
              en: "Which best describes your overall state with the five daily prayers?",
            },
            options: [
              {
                value: "a",
                text: {
                  tr: "Ã‡oÄŸu zaman kÄ±lmÄ±yorum / Ã§ok seyrek kÄ±lÄ±yorum",
                  en: "I often do not pray or do so very rarely",
                },
                knowledgeDelta: -4,
                practiceDelta: -12,
                heartDelta: -5,
              },
              {
                value: "b",
                text: {
                  tr: "Ara sÄ±ra kÄ±lÄ±yorum, uzun boÅŸluklar oluyor",
                  en: "I pray sometimes but with long gaps",
                },
                knowledgeDelta: -1,
                practiceDelta: -6,
                heartDelta: -3,
              },
              {
                value: "c",
                text: {
                  tr: "Genelde kÄ±lÄ±yorum ama bazen geciktiriyor veya kaÃ§Ä±rÄ±yorum",
                  en: "I usually pray but sometimes delay or miss prayers",
                },
                knowledgeDelta: +1,
                practiceDelta: +2,
                heartDelta: +1,
              },
              {
                value: "d",
                text: {
                  tr: "MÃ¼mkÃ¼n olduÄŸunca vaktinde, huÅŸu ile kÄ±lmaya Ã§alÄ±ÅŸÄ±yorum",
                  en: "I strive to pray on time with presence and humility as much as I can",
                },
                knowledgeDelta: +2,
                practiceDelta: +8,
                heartDelta: +4,
              },
            ],
          },
          {
            id: "quran_relation",
            text: {
              tr: "Kurâ€™anâ€™la olan iliÅŸkin hangisine daha Ã§ok benziyor?",
              en: "Which best describes your relationship with the Qurâ€™an?",
            },
            options: [
              {
                value: "a",
                text: {
                  tr: "Nadiren aÃ§Ä±yorum; aylar geÃ§ebiliyor",
                  en: "I rarely open it; months can pass without reading",
                },
                knowledgeDelta: -6,
                practiceDelta: -3,
                heartDelta: -4,
              },
              {
                value: "b",
                text: {
                  tr: "Arada sÄ±rada okuyorum ama dÃ¼zenli deÄŸil",
                  en: "I read occasionally but without a stable routine",
                },
                knowledgeDelta: -1,
                practiceDelta: 0,
                heartDelta: 0,
              },
              {
                value: "c",
                text: {
                  tr: "DÃ¼zenli bir okuma/meal programÄ±m var",
                  en: "I have a somewhat regular reading / reflection routine",
                },
                knowledgeDelta: +4,
                practiceDelta: +2,
                heartDelta: +3,
              },
              {
                value: "d",
                text: {
                  tr: "Hem tilavet hem anlam Ã¼zerinde ciddi ÅŸekilde Ã§alÄ±ÅŸÄ±yorum",
                  en: "I seriously work on both recitation and understanding",
                },
                knowledgeDelta: +6,
                practiceDelta: +4,
                heartDelta: +4,
              },
            ],
          },
          {
            id: "other_ibadah",
            text: {
              tr: "Farz ibadetler dÄ±ÅŸÄ±nda (oruÃ§, sadaka, zikir, gece ibadeti vb.) hÃ¢lini nasÄ±l tarif edersin?",
              en: "How would you describe yourself in voluntary acts (fasting, charity, dhikr, night prayer, etc.) beyond the obligatory ones?",
            },
            options: [
              {
                value: "a",
                text: {
                  tr: "Neredeyse hiÃ§ yok diyebilirim",
                  en: "Almost none, to be honest",
                },
                knowledgeDelta: -1,
                practiceDelta: -6,
                heartDelta: -3,
              },
              {
                value: "b",
                text: {
                  tr: "BazÄ± dÃ¶nemler yapÄ±yorum, sonra bÄ±rakÄ±yorum",
                  en: "I do them in some periods, then drop them",
                },
                knowledgeDelta: 0,
                practiceDelta: -1,
                heartDelta: 0,
              },
              {
                value: "c",
                text: {
                  tr: "DÃ¼zenli birkaÃ§ sÃ¼nnet/nafile amelim var",
                  en: "I maintain a few consistent sunnah/nafl practices",
                },
                knowledgeDelta: +2,
                practiceDelta: +4,
                heartDelta: +3,
              },
              {
                value: "d",
                text: {
                  tr: "HayatÄ±mÄ±n planÄ±nÄ± bu ibadetler etrafÄ±nda kurmaya Ã§alÄ±ÅŸÄ±yorum",
                  en: "I actively shape my life around these acts of worship",
                },
                knowledgeDelta: +3,
                practiceDelta: +6,
                heartDelta: +4,
              },
            ],
          },
        ],
      },
      {
        id: "akhlaq",
        title: {
          tr: "Ahlak, nefis ve kul haklarÄ±",
          en: "Character, ego and peopleâ€™s rights",
        },
        desc: {
          tr: "Peygamber Efendimizâ€™in ahlakÄ± Kurâ€™anâ€™dÄ±. Kibir, gÄ±ybet, zulÃ¼m ve kul hakkÄ± ahirette aÄŸÄ±r sonuÃ§lar doÄŸurabilir.",
          en: "The Prophetâ€™s character was the Qurâ€™an. Pride, backbiting, injustice and violating othersâ€™ rights can weigh heavily in the Hereafter.",
        },
        questions: [
          {
            id: "akhlaq_family",
            text: {
              tr: "Aile bireylerine (anne-baba, eÅŸ, Ã§ocuk, kardeÅŸ vs.) karÅŸÄ± ahlak ve nezaket hÃ¢lin nasÄ±ldÄ±r?",
              en: "How is your character and kindness towards close family (parents, spouse, children, siblings etc.)?",
            },
            options: [
              {
                value: "a",
                text: {
                  tr: "Ã‡oÄŸu zaman kÄ±rÄ±cÄ±, Ã¶fkeli veya ihmal edici olabiliyorum",
                  en: "I am often harsh, angry or neglectful with them",
                },
                knowledgeDelta: -2,
                practiceDelta: -6,
                heartDelta: -6,
              },
              {
                value: "b",
                text: {
                  tr: "Niyetim iyi ama sÄ±k sÄ±k Ã¶fkeye kapÄ±lÄ±yorum",
                  en: "My intention is good but I often lose my temper",
                },
                knowledgeDelta: 0,
                practiceDelta: -3,
                heartDelta: -2,
              },
              {
                value: "c",
                text: {
                  tr: "Genelde saygÄ±lÄ± ve nazik olmaya Ã§alÄ±ÅŸÄ±yorum",
                  en: "I generally try to be respectful and kind",
                },
                knowledgeDelta: +1,
                practiceDelta: +3,
                heartDelta: +3,
              },
              {
                value: "d",
                text: {
                  tr: "Bilerek onlara Ã¶zel ilgi, sabÄ±r ve ikram gÃ¶stermeye Ã§alÄ±ÅŸÄ±yorum",
                  en: "I consciously show special patience, care and generosity to them",
                },
                knowledgeDelta: +2,
                practiceDelta: +5,
                heartDelta: +4,
              },
            ],
          },
          {
            id: "akhlaq_backbiting",
            text: {
              tr: "GÄ±ybet (dedikodu) ve insanlarÄ± arkadan Ã§ekiÅŸtirme konusunda durumun nedir?",
              en: "How do you deal with backbiting and speaking badly about people in their absence?",
            },
            options: [
              {
                value: "a",
                text: {
                  tr: "Ã‡oÄŸu ortamda gÄ±ybet ediyorum, bundan pek rahatsÄ±z olmuyorum",
                  en: "I often join backbiting and I donâ€™t feel much discomfort about it",
                },
                knowledgeDelta: -3,
                practiceDelta: -7,
                heartDelta: -5,
              },
              {
                value: "b",
                text: {
                  tr: "Bazen katÄ±lÄ±yorum ama sonra piÅŸman oluyorum",
                  en: "Sometimes I join but feel regret afterwards",
                },
                knowledgeDelta: 0,
                practiceDelta: -3,
                heartDelta: -1,
              },
              {
                value: "c",
                text: {
                  tr: "Elimden geldiÄŸince uzak durmaya ve ortamÄ± deÄŸiÅŸtirmeye Ã§alÄ±ÅŸÄ±yorum",
                  en: "I actively try to avoid it and change the topic when I can",
                },
                knowledgeDelta: +2,
                practiceDelta: +4,
                heartDelta: +3,
              },
              {
                value: "d",
                text: {
                  tr: "GÄ±ybetten sakÄ±nma konusunda bilinÃ§li, kararlÄ± ve dikkatliyim",
                  en: "I am very conscious and firm about avoiding backbiting",
                },
                knowledgeDelta: +3,
                practiceDelta: +6,
                heartDelta: +4,
              },
            ],
          },
          {
            id: "akhlaq_oppression",
            text: {
              tr: "Ä°ÅŸ, aile, arkadaÅŸlÄ±k gibi alanlarda insanlarÄ±n hakkÄ±na girmek (emek, mal, itibar) konusunda kendini nasÄ±l gÃ¶rÃ¼yorsun?",
              en: "In work, family or friendships, how do you see yourself regarding peopleâ€™s rights (their effort, wealth, honour)?",
            },
            options: [
              {
                value: "a",
                text: {
                  tr: "Menfaatim iÃ§in baÅŸkalarÄ±na haksÄ±zlÄ±k yaptÄ±ÄŸÄ±m oluyor ve Ã§ok sorgulamÄ±yorum",
                  en: "I sometimes wrong others for my benefit and donâ€™t think much about it",
                },
                knowledgeDelta: -3,
                practiceDelta: -8,
                heartDelta: -5,
              },
              {
                value: "b",
                text: {
                  tr: "Zaman zaman hata yaptÄ±ÄŸÄ±mÄ± biliyorum ama net bir muhasebe yapmÄ±yorum",
                  en: "I know I sometimes wrong people but I donâ€™t deeply review it",
                },
                knowledgeDelta: 0,
                practiceDelta: -3,
                heartDelta: -2,
              },
              {
                value: "c",
                text: {
                  tr: "HaksÄ±zlÄ±k yaptÄ±ÄŸÄ±mda fark etmeye ve helallik istemeye Ã§alÄ±ÅŸÄ±yorum",
                  en: "I try to notice when I wrong someone and ask forgiveness",
                },
                knowledgeDelta: +2,
                practiceDelta: +4,
                heartDelta: +3,
              },
              {
                value: "d",
                text: {
                  tr: "Hak ihlali konusunda Ã§ok hassasÄ±m, emin olamadÄ±ÄŸÄ±mda bile helalleÅŸmeye Ã§alÄ±ÅŸÄ±yorum",
                  en: "Iâ€™m very sensitive about peopleâ€™s rights and seek to reconcile even in doubtful cases",
                },
                knowledgeDelta: +3,
                practiceDelta: +6,
                heartDelta: +4,
              },
            ],
          },
        ],
      },
      {
        id: "ilm",
        title: {
          tr: "Ä°lim & Ã¶ÄŸrenme gayreti",
          en: "Knowledge & learning effort",
        },
        desc: {
          tr: "Salih bir hayat iÃ§in farz olan ilmi Ã¶ÄŸrenmek, amelden Ã¶nce gelir.",
          en: "Seeking the obligatory knowledge precedes acting upon it.",
        },
        questions: [
          {
            id: "ilm_basic",
            text: {
              tr: "Farz olan ibadetler (namaz, oruÃ§, zekÃ¢t, helal/haram) hakkÄ±nda temel ilmihal bilgin hangi seviyede?",
              en: "How is your basic knowledge of the rulings of obligatory acts (prayer, fasting, zakah, halal/haram)?",
            },
            options: [
              {
                value: "a",
                text: {
                  tr: "Ã‡ok zayÄ±f; Ã§oÄŸunu kulaktan dolma biliyorum",
                  en: "Very weak; mostly hearsay and unclear",
                },
                knowledgeDelta: -10,
                practiceDelta: -4,
                heartDelta: -3,
              },
              {
                value: "b",
                text: {
                  tr: "BazÄ± ÅŸeyleri biliyorum ama eksiklerim Ã§ok",
                  en: "I know some basics but I have many gaps",
                },
                knowledgeDelta: -3,
                practiceDelta: -1,
                heartDelta: 0,
              },
              {
                value: "c",
                text: {
                  tr: "Genel olarak temel konularda saÄŸlam olduÄŸumu dÃ¼ÅŸÃ¼nÃ¼yorum",
                  en: "I think Iâ€™m reasonably solid in the fundamentals",
                },
                knowledgeDelta: +4,
                practiceDelta: +2,
                heartDelta: +2,
              },
              {
                value: "d",
                text: {
                  tr: "Hem temel hem bazÄ± detaylarda dÃ¼zenli ilim halkalarÄ±na/derse devam ediyorum",
                  en: "I regularly attend classes or circles and cover both basics and some detail issues",
                },
                knowledgeDelta: +8,
                practiceDelta: +4,
                heartDelta: +3,
              },
            ],
          },
          {
            id: "ilm_continuity",
            text: {
              tr: "Ä°lmi devam ettirme (kitap okumak, ders dinlemek, not almak, tekrar etmek) konusunda hÃ¢lin nasÄ±ldÄ±r?",
              en: "How consistent are you in continuing to seek knowledge (reading, listening to lessons, taking notes, revising)?",
            },
            options: [
              {
                value: "a",
                text: {
                  tr: "DÃ¶nem dÃ¶nem hevesleniyorum ama uzun sÃ¼re devam ettiremiyorum",
                  en: "I get motivated in phases but canâ€™t sustain it for long",
                },
                knowledgeDelta: -2,
                practiceDelta: -1,
                heartDelta: 0,
              },
              {
                value: "b",
                text: {
                  tr: "Ayda birkaÃ§ kez ilimle bilinÃ§li vakit geÃ§iriyorum",
                  en: "I spend deliberate time on knowledge a few times per month",
                },
                knowledgeDelta: +2,
                practiceDelta: +1,
                heartDelta: +1,
              },
              {
                value: "c",
                text: {
                  tr: "HaftalÄ±k rutinin iÃ§inde mutlaka ilme yer veriyorum",
                  en: "I keep learning as a weekly routine",
                },
                knowledgeDelta: +4,
                practiceDelta: +2,
                heartDelta: +2,
              },
              {
                value: "d",
                text: {
                  tr: "Hayat planÄ±mÄ±n merkezinde ilim ve onu yaÅŸamak var",
                  en: "Seeking and living knowledge is central in my life planning",
                },
                knowledgeDelta: +6,
                practiceDelta: +3,
                heartDelta: +3,
              },
            ],
          },
        ],
      },
      {
        id: "repentance",
        title: {
          tr: "GÃ¼nah, tÃ¶vbe & sÃ¼reklilik",
          en: "Sin, repentance & consistency",
        },
        desc: {
          tr: "Her insan hata yapar; Ã¶nemli olan tÃ¶vbede sebat, gÃ¼naha dÃ¶nmeyi hafife almamaktÄ±r.",
          en: "Every human errs; what matters is sincere repentance and not taking sin lightly.",
        },
        questions: [
          {
            id: "major_sins",
            text: {
              tr: "BildiÄŸin halde terk edemediÄŸin ve kalbini rahatsÄ±z eden bÃ¼yÃ¼k gÃ¼nah(lar) hakkÄ±nda hÃ¢lin nedir? (Detaya girmeden genel hÃ¢li soruyor.)",
              en: "Regarding major sins you know and feel uneasy about (without details), which best describes your situation?",
            },
            options: [
              {
                value: "a",
                text: {
                  tr: "BildiÄŸim bazÄ± bÃ¼yÃ¼k gÃ¼nahlarÄ± iÅŸliyorum ve pek Ã¶nemsemiyorum",
                  en: "I commit some major sins knowingly and I donâ€™t take them very seriously",
                },
                knowledgeDelta: -4,
                practiceDelta: -12,
                heartDelta: -10,
              },
              {
                value: "b",
                text: {
                  tr: "Devam eden bir gÃ¼nahÄ±m var, Ã¼zÃ¼lÃ¼yorum ama ciddi adÄ±m atmadÄ±m",
                  en: "I have ongoing sin, I feel sad but havenâ€™t taken serious steps yet",
                },
                knowledgeDelta: 0,
                practiceDelta: -6,
                heartDelta: -4,
              },
              {
                value: "c",
                text: {
                  tr: "TÃ¶vbe etmeye Ã§alÄ±ÅŸÄ±yor, tekrar dÃ¼ÅŸtÃ¼kÃ§e yeniden ayaÄŸa kalkÄ±yorum",
                  en: "I keep repenting and trying again whenever I fall back",
                },
                knowledgeDelta: +1,
                practiceDelta: +2,
                heartDelta: +4,
              },
              {
                value: "d",
                text: {
                  tr: "BildiÄŸim bÃ¼yÃ¼k gÃ¼nahlardan bÃ¼yÃ¼k oranda uzak durmaya gayret ediyorum",
                  en: "I strive strongly to stay away from major sins I am aware of",
                },
                knowledgeDelta: +2,
                practiceDelta: +6,
                heartDelta: +6,
              },
            ],
          },
          {
            id: "repentance_habit",
            text: {
              tr: "GÃ¼nlÃ¼k/haftalÄ±k olarak istiÄŸfar (estaÄŸfirullah) ve tÃ¶vbe alÄ±ÅŸkanlÄ±ÄŸÄ±n nasÄ±ldÄ±r?",
              en: "How is your habit of daily/weekly istighfar (seeking forgiveness) and repentance?",
            },
            options: [
              {
                value: "a",
                text: {
                  tr: "Ã‡ok nadir, Ã¶zel bir tÃ¶vbe zamanÄ±m yok",
                  en: "Very rare; I have no specific habit of repentance",
                },
                knowledgeDelta: -2,
                practiceDelta: -3,
                heartDelta: -6,
              },
              {
                value: "b",
                text: {
                  tr: "Ara sÄ±ra istiÄŸfar ediyorum ama daÄŸÄ±nÄ±k",
                  en: "I say it sometimes but itâ€™s scattered",
                },
                knowledgeDelta: 0,
                practiceDelta: 0,
                heartDelta: -1,
              },
              {
                value: "c",
                text: {
                  tr: "Her gÃ¼n belli bir miktar istiÄŸfar etmeye Ã§alÄ±ÅŸÄ±yorum",
                  en: "I try to keep a daily habit of istighfar",
                },
                knowledgeDelta: +2,
                practiceDelta: +2,
                heartDelta: +4,
              },
              {
                value: "d",
                text: {
                  tr: "Hem dilimle hem kalbimle muhasebeli bir istiÄŸfar / tÃ¶vbe dÃ¼zenim var",
                  en: "I regularly review myself and combine istighfar with sincere inner repentance",
                },
                knowledgeDelta: +3,
                practiceDelta: +3,
                heartDelta: +6,
              },
            ],
          },
        ],
      },
      {
        id: "heart_state",
        title: {
          tr: "Kalp hÃ¢li, dÃ¼nya sevgisi & tevazu",
          en: "Heart state, love of dunya & humility",
        },
        desc: {
          tr: "Kalbin Allahâ€™a yÃ¶neliÅŸi, riya, kibir, dÃ¼nya sevgisi ve tevekkÃ¼l hÃ¢li ahirete hazÄ±rlÄ±ÄŸÄ±n Ã¶zÃ¼dÃ¼r.",
          en: "The heartâ€™s direction, sincerity vs. showing off, arrogance, love of dunya and reliance on Allah are core to readiness.",
        },
        questions: [
          {
            id: "riyah",
            text: {
              tr: "Ä°badet ve hayÄ±r iÅŸlerinde riya (gÃ¶steriÅŸ) ve beÄŸenilme isteÄŸiyle mÃ¼cadeleni nasÄ±l gÃ¶rÃ¼yorsun?",
              en: "How do you see your struggle with showing off or seeking peopleâ€™s praise in worship and good deeds?",
            },
            options: [
              {
                value: "a",
                text: {
                  tr: "Ä°nsanlarÄ±n gÃ¶rmesi ve takdiri benim iÃ§in Ã§ok Ã¶nemli; pek sorgulamÄ±yorum",
                  en: "Being seen and praised is very important to me and I rarely question it",
                },
                knowledgeDelta: -2,
                practiceDelta: -2,
                heartDelta: -8,
              },
              {
                value: "b",
                text: {
                  tr: "RiyanÄ±n farkÄ±na varÄ±yorum ama Ã§oÄŸu zaman kalbimi toparlayamÄ±yorum",
                  en: "I notice it but often fail to correct my heart",
                },
                knowledgeDelta: 0,
                practiceDelta: 0,
                heartDelta: -3,
              },
              {
                value: "c",
                text: {
                  tr: "Fark ettikÃ§e niyeti dÃ¼zeltmeye Ã§alÄ±ÅŸÄ±yorum, dua ve istiÄŸfar ediyorum",
                  en: "When I notice it, I renew my intention, make dua and seek forgiveness",
                },
                knowledgeDelta: +2,
                practiceDelta: +1,
                heartDelta: +4,
              },
              {
                value: "d",
                text: {
                  tr: "Niyet muhasebesini Ã§ok ciddiye alÄ±yor, gizli amelleri Ã¶zellikle arttÄ±rÄ±yorum",
                  en: "I take intention very seriously and try to increase hidden deeds",
                },
                knowledgeDelta: +3,
                practiceDelta: +3,
                heartDelta: +6,
              },
            ],
          },
          {
            id: "dunya_love",
            text: {
              tr: "Kalbinde dÃ¼nya sevgisi (mal, makam, ÅŸÃ¶hret) ile ahiret arzusu arasÄ±ndaki dengeyi nasÄ±l hissediyorsun?",
              en: "How do you feel the balance between love of dunya (wealth, status, fame) and longing for the Hereafter in your heart?",
            },
            options: [
              {
                value: "a",
                text: {
                  tr: "DÃ¼nya hedeflerim neredeyse tamamen Ã¶n planda, ahireti pek dÃ¼ÅŸÃ¼nmÃ¼yorum",
                  en: "My worldly goals dominate almost everything; I rarely think about the Hereafter",
                },
                knowledgeDelta: -2,
                practiceDelta: -3,
                heartDelta: -8,
              },
              {
                value: "b",
                text: {
                  tr: "Ahireti de Ã¶nemsiyorum ama gÃ¼nlÃ¼k planÄ±mÄ± genelde dÃ¼nya belirliyor",
                  en: "I do care about the Hereafter, but daily life is mostly driven by dunya",
                },
                knowledgeDelta: 0,
                practiceDelta: -1,
                heartDelta: -2,
              },
              {
                value: "c",
                text: {
                  tr: "DÃ¼nya ile ahiret arasÄ±nda denge kurmaya Ã§alÄ±ÅŸÄ±yorum",
                  en: "I actively try to balance dunya and Akhirah in decisions",
                },
                knowledgeDelta: +2,
                practiceDelta: +2,
                heartDelta: +3,
              },
              {
                value: "d",
                text: {
                  tr: "Tercihlerimde ahireti Ã¶ne almayÄ± ciddi ÅŸekilde gÃ¶zetiyorum",
                  en: "I consciously put the Hereafter first when making major choices",
                },
                knowledgeDelta: +3,
                practiceDelta: +3,
                heartDelta: +6,
              },
            ],
          },
        ],
      },
    ];

    let currentLang = "tr";

    function updateStaticTexts() {
      const dict = uiText[currentLang];
      document.querySelectorAll("[data-i18n]").forEach((el) => {
        const key = el.getAttribute("data-i18n");
        if (!dict[key]) return;
        if (dict[key].includes("<strong")) {
          el.innerHTML = dict[key];
        } else {
          el.textContent = dict[key];
        }
      });
    }

    function renderQuestions() {
      const container = document.getElementById("question-sections");
      container.innerHTML = "";

      let totalQuestions = 0;

      questionSectionsDef.forEach((section, sectionIndex) => {
        const secEl = document.createElement("div");
        secEl.className = "question-section";

        const header = document.createElement("div");
        header.className = "question-section-header";

        const title = document.createElement("div");
        title.className = "question-section-title";
        title.textContent = section.title[currentLang];

        const desc = document.createElement("div");
        desc.className = "question-section-desc";
        desc.textContent = section.desc[currentLang];

        header.appendChild(title);
        header.appendChild(desc);
        secEl.appendChild(header);

        section.questions.forEach((q) => {
          totalQuestions += 1;
          const qEl = document.createElement("div");
          qEl.className = "question";

          const label = document.createElement("div");
          label.className = "question-label";
          label.textContent = q.text[currentLang];
          qEl.appendChild(label);

          const optsEl = document.createElement("div");
          optsEl.className = "options";

          q.options.forEach((opt) => {
            const row = document.createElement("label");
            row.className = "option-row";

            const input = document.createElement("input");
            input.type = "radio";
            input.name = q.id;
            input.value = opt.value;

            const span = document.createElement("span");
            span.className = "option-label";
            span.textContent = opt.text[currentLang];

            row.appendChild(input);
            row.appendChild(span);
            optsEl.appendChild(row);
          });

          qEl.appendChild(optsEl);
          secEl.appendChild(qEl);
        });

        container.appendChild(secEl);

        // staggered reveal
        requestAnimationFrame(() => {
          setTimeout(() => {
            secEl.classList.add("visible");
          }, 100 * sectionIndex);
        });
      });

      container.dataset.totalQuestions = totalQuestions;
      updateProgress();
    }

    function clamp(num, min, max) {
      return Math.min(Math.max(num, min), max);
    }

    function updateProgress() {
      const form = document.getElementById("assessment-form");
      const container = document.getElementById("question-sections");
      const totalQuestions = parseInt(container.dataset.totalQuestions || "0", 10);
      const answered = form.querySelectorAll(
        "input[type='radio']:checked"
      ).length;

      const dict = uiText[currentLang];
      const progressText = document.getElementById("progress-text");
      if (dict.progressText.includes("YanÄ±tlanan")) {
        progressText.textContent = `YanÄ±tlanan soru: ${answered} / ${totalQuestions}`;
      } else {
        progressText.textContent = `Answered questions: ${answered} / ${totalQuestions}`;
      }

      const fill = document.getElementById("progress-fill");
      const ratio = totalQuestions ? (answered / totalQuestions) * 100 : 0;
      fill.style.width = `${ratio}%`;
    }

    function interpretDimension(score, dim, lang) {
      const low = score < 50;
      const mid = score >= 50 && score < 75;
      const high = score >= 75;

      if (lang === "tr") {
        if (dim === "knowledge") {
          if (low)
            return "Temel dini bilgi alanÄ±nda gÃ¼Ã§lendirmeye ihtiyaÃ§ olabilir. Ä°lmihal, Kurâ€™an ve sahih hadis derslerine yÃ¶nelmek Ã§ok kÄ±ymetli olur.";
          if (mid)
            return "Ä°lim boyutunda orta bir seviyedesin. Bildiklerini derinleÅŸtirip bilmediklerini Ã¶ÄŸrenmeye niyet etmek, ahirete hazÄ±rlÄ±ÄŸÄ±nÄ± gÃ¼Ã§lendirebilir.";
          if (high)
            return "Ä°lim boyutun gÃ¼Ã§lÃ¼ gÃ¶rÃ¼nÃ¼yor. Bildiklerini yaÅŸayan biri olmak ve onu gÃ¼zel ahlakla birleÅŸtirmek en Ã¶nemli adÄ±m.";
        } else if (dim === "practice") {
          if (low)
            return "Amel boyutunda ciddi boÅŸluklar olabilir. FarzlarÄ± saÄŸlamlaÅŸtÄ±rmak ve yavaÅŸ yavaÅŸ sÃ¼nnetleri eklemek, en Ã¶ncelikli adÄ±mlardan biridir.";
          if (mid)
            return "Amel boyutun ne tamamen zayÄ±f ne de Ã§ok gÃ¼Ã§lÃ¼. Farzlarda istikrar ve kÃ¼Ã§Ã¼k ama dÃ¼zenli nafileler seni ileri taÅŸÄ±yabilir.";
          if (high)
            return "Amel boyutun umut verici bir seviyede. Ä°stikrarÄ± korumak ve amelleri riya ve kibirden korumak en bÃ¼yÃ¼k imtihanlardan biridir.";
        } else if (dim === "heart") {
          if (low)
            return "Kalp boyutunda (niyet, tevazu, dÃ¼nya sevgisi, tÃ¶vbe) kÄ±rÄ±lganlÄ±klar olabilir. Dua, istiÄŸfar ve tefekkÃ¼rle kalbi yumuÅŸatmak Ã¶nemli.";
          if (mid)
            return "Kalp boyutunda iniÅŸ Ã§Ä±kÄ±ÅŸlar olsa da belli bir farkÄ±ndalÄ±k var. Niyetlerini sÄ±k sÄ±k tazelemek ve gizli amelleri artÄ±rmak bu alanÄ± gÃ¼Ã§lendirebilir.";
          if (high)
            return "Kalp boyutun nispeten dengeli gÃ¶rÃ¼nÃ¼yor. Bu hÃ¢li korumak iÃ§in sÃ¼rekli dua, istiÄŸfar ve kendini gizli amellerle beslemek Ã§ok kÄ±ymetlidir.";
        }
      } else {
        if (dim === "knowledge") {
          if (low)
            return "Your basic Islamic knowledge may need strengthening. Studying core fiqh, Qurâ€™an and authentic hadith is a precious step.";
          if (mid)
            return "Your knowledge dimension is at a moderate level. Deepening what you know and learning what you do not can greatly support your readiness.";
          if (high)
            return "Your knowledge dimension looks strong. Living what you know with good character is now the main challenge.";
        } else if (dim === "practice") {
          if (low)
            return "There may be serious gaps in practice. Establishing the obligatory acts and slowly adding consistent voluntary deeds is a top priority.";
          if (mid)
            return "Your practice is neither very weak nor very strong. Consistency in obligations and small, regular extra deeds can move you forward.";
          if (high)
            return "Your practice looks hopeful. Protecting it from laziness and showing off is a major lifelong test.";
        } else if (dim === "heart") {
          if (low)
            return "Your heart dimension (intention, humility, love of dunya, repentance) may be fragile. Dua, istighfar and reflection can soften and realign the heart.";
          if (mid)
            return "Your heart dimension has ups and downs but some awareness. Frequently renewing intention and increasing hidden deeds can strengthen this.";
          if (high)
            return "Your heart dimension looks relatively balanced. Keeping it that way with constant dua, istighfar and hidden good deeds is very precious.";
        }
      }
      return "";
    }

    function buildInterpretation(k, p, h, readiness, age, faithLevel) {
      const lang = currentLang;
      let readinessNote = "";
      if (lang === "tr") {
        if (readiness >= 80) {
          readinessNote =
            "Genel Ahirete HazÄ±rlÄ±k Skorun, niyet ve yÃ¶neliÅŸ aÃ§Ä±sÄ±ndan umut verici bir seviyede. Bu, emin olmak anlamÄ±na gelmez; bilakis, nimetin kÄ±ymetini bilip daha da ciddileÅŸmek iÃ§in bir davet gibidir.";
        } else if (readiness >= 55) {
          readinessNote =
            "Genel skorun ortaâ€“iyi aralÄ±ÄŸÄ±nda. BazÄ± gÃ¼Ã§lÃ¼ yÃ¶nlerin, bazÄ± zayÄ±f halkalarÄ±n var. KÃ¼Ã§Ã¼k ama istikrarlÄ± adÄ±mlarla bu dengeyi ahiret lehine Ã§evirmek mÃ¼mkÃ¼n.";
        } else {
          readinessNote =
            "Genel skorun daha kÄ±rÄ±lgan bir noktada olabilir. Bu bir Ã¼mitsizlik sebebi deÄŸil; bilakis tÃ¶vbeye, ilme ve salih amele daha samimi sarÄ±lmak iÃ§in uyarÄ±cÄ± bir iÅŸaret olarak gÃ¶rÃ¼lebilir.";
        }
      } else {
        if (readiness >= 80) {
          readinessNote =
            "Your overall Hereafter Readiness Score is at a hopeful level in terms of intention and direction. This is not a guarantee, but an invitation to honour this blessing and become even more serious.";
        } else if (readiness >= 55) {
          readinessNote =
            "Your overall score is in a midâ€“good range. You have strengths and also weak links. Small but consistent steps can shift the balance strongly in favour of the Hereafter.";
        } else {
          readinessNote =
            "Your score suggests some fragility. This is not a reason to despair; it is a wake-up call to cling more sincerely to repentance, knowledge and righteous deeds.";
        }
      }

      let ageNote = "";
      if (lang === "tr") {
        ageNote =
          "Unutma: Allah katÄ±nda asÄ±l Ã¶nemli olan, ÅŸu andan itibaren yÃ¶nÃ¼nÃ¼ nereye Ã§evirdiÄŸindir. YaÅŸÄ±n " +
          age +
          " olsa bile bir anda niyetini ve istikametini deÄŸiÅŸtirebilirsin.";
      } else {
        ageNote =
          "Remember: what matters most with Allah is the direction you choose from this moment onward. Even at age " +
          age +
          ", you can re-orient your intention and path.";
      }

      let faithNote = "";
      if (lang === "tr") {
        if (faithLevel === "muslim_practicing") {
          faithNote =
            "Kendini iman ve amel yÃ¶nÃ¼nden baÄŸlÄ± gÃ¶rmen gÃ¼zel bir niyet. Bu niyeti, sÃ¼rekli tazelenen bir tevbe ve ihlasla beslemek Ã§ok Ã¶nemlidir.";
        } else if (faithLevel === "muslim_cultural") {
          faithNote =
            "Ä°manÄ± daha Ã§ok kÃ¼ltÃ¼rel yaÅŸayanlar iÃ§in bu tarz muhasebeler, dinle baÄŸÄ± yeniden canlandÄ±rmak iÃ§in iyi bir fÄ±rsattÄ±r.";
        } else if (faithLevel === "exploring") {
          faithNote =
            "Ä°slamâ€™Ä± araÅŸtÄ±rÄ±yor olman kÄ±ymetli bir arayÄ±ÅŸ. SorularÄ±n iÃ§in gÃ¼venilir ilim ehli kiÅŸilerle ve sahih kaynaklarla ilerlemek en saÄŸlÄ±klÄ± yoldur.";
        } else if (faithLevel === "other") {
          faithNote =
            "Bu test, Ä°slami bakÄ±ÅŸ aÃ§Ä±sÄ±ndan hazÄ±rlanmÄ±ÅŸtÄ±r. FarklÄ± bir inanÃ§ yolunda olsan da, ahlak, adalet ve kalp muhasebesi gibi baÅŸlÄ±klar Ã¼zerine dÃ¼ÅŸÃ¼nmek senin iÃ§in de faydalÄ± olabilir.";
        }
      } else {
        if (faithLevel === "muslim_practicing") {
          faithNote =
            "Seeing yourself as committed in belief and practice is a beautiful intention. Feeding it with constant repentance and sincerity is essential.";
        } else if (faithLevel === "muslim_cultural") {
          faithNote =
            "For Muslims who mostly live Islam culturally, such self-accounting can be a chance to revive the connection with the Deen.";
        } else if (faithLevel === "exploring") {
          faithNote =
            "Your exploration of Islam is valuable. Seek answers through reliable scholars and sound sources.";
        } else if (faithLevel === "other") {
          faithNote =
            "This test is written from an Islamic perspective. Even if you follow another path, reflecting on justice, ethics and heart states may still benefit you.";
        }
      }

      return readinessNote + " " + ageNote + " " + faithNote;
    }

    function addFocusChips(k, p, h) {
      const chipRow = document.getElementById("focus-chip-row");
      chipRow.innerHTML = "";
      const lang = currentLang;

      const chips = [];

      if (k < 60) {
        chips.push({
          key: "knowledge",
          labelTr: "ğŸ“š Ä°lim / temel bilgi",
          labelEn: "ğŸ“š Knowledge / basics",
          descTr:
            "Ä°lim alanÄ±nÄ± gÃ¼Ã§lendirmek iÃ§in gÃ¼venilir kaynaklardan dÃ¼zenli ders/okuma planÄ± yapabilirsin.",
          descEn:
            "You may benefit from a simple, regular plan to learn the basics from reliable sources.",
        });
      }
      if (p < 60) {
        chips.push({
          key: "practice",
          labelTr: "ğŸ•Œ Ä°badet & amel",
          labelEn: "ğŸ•Œ Worship & practice",
          descTr:
            "FarzlarÄ± saÄŸlamlaÅŸtÄ±rÄ±p kÃ¼Ã§Ã¼k, sÃ¼rdÃ¼rÃ¼lebilir nafilelerle ibadet yÃ¶nÃ¼nÃ¼ gÃ¼Ã§lendirebilirsin.",
          descEn:
            "Strengthen obligations and add small, sustainable voluntary acts to support your practice.",
        });
      }
      if (h < 60) {
        chips.push({
          key: "heart",
          labelTr: "âœ¨ Kalp, niyet & tÃ¶vbe",
          labelEn: "âœ¨ Heart, intention & repentance",
          descTr:
            "Niyet tazeleme, istiÄŸfar ve dua ile kalbini yumuÅŸatmak bu alanda bÃ¼yÃ¼k fark oluÅŸturabilir.",
          descEn:
            "Renewing intention, making istighfar and heartfelt duas can greatly impact your heartâ€™s state.",
        });
      }

      // If everything is strong, still show at least a gentle reminder
      if (chips.length === 0) {
        chips.push({
          key: "maintenance",
          labelTr: "ğŸŒ± Ä°stikrarÄ± koru",
          labelEn: "ğŸŒ± Maintain consistency",
          descTr:
            "En bÃ¼yÃ¼k imtihanlardan biri, gÃ¼zel hÃ¢li ihlasla korumaktÄ±r. DÃ¼zenli muhasebe buna yardÄ±mcÄ± olur.",
          descEn:
            "One of the greatest tests is to preserve a good state with sincerity. Regular self-accounting helps.",
        });
      }

      chips.forEach((chip) => {
        const div = document.createElement("div");
        div.className = "focus-chip";
        const label = lang === "tr" ? chip.labelTr : chip.labelEn;
        const desc = lang === "tr" ? chip.descTr : chip.descEn;
        div.textContent = `${label} â€“ ${desc}`;
        chipRow.appendChild(div);
      });
    }

    document.addEventListener("DOMContentLoaded", () => {
      document.body.classList.add("loaded");
      renderQuestions();
      updateStaticTexts();

      const langButtons = document.querySelectorAll(".lang-btn");
      langButtons.forEach((btn) => {
        btn.addEventListener("click", () => {
          const lang = btn.getAttribute("data-lang");
          if (lang === currentLang) return;
          currentLang = lang;
          langButtons.forEach((b) => b.classList.remove("active"));
          btn.classList.add("active");
          const form = document.getElementById("assessment-form");
          if (form) form.reset();
          renderQuestions();
          updateStaticTexts();
        });
      });

      document.getElementById("start-btn").addEventListener("click", () => {
        const formCard = document.getElementById("form-card");
        formCard.scrollIntoView({ behavior: "smooth", block: "start" });
      });

      document
        .getElementById("scroll-info-btn")
        .addEventListener("click", () => {
          const infoCard = document.getElementById("info-card");
          infoCard.scrollIntoView({ behavior: "smooth", block: "start" });
        });

      const form = document.getElementById("assessment-form");
      form.addEventListener("change", updateProgress);

      form.addEventListener("submit", (e) => {
        e.preventDefault();

        const ageInput = document.getElementById("age-input");
        const ageVal = parseInt(ageInput.value, 10);
        if (isNaN(ageVal) || ageVal < 10 || ageVal > 100) {
          ageInput.focus();
          ageInput.scrollIntoView({ behavior: "smooth", block: "center" });
          return;
        }

        let knowledge = 50;
        let practice = 50;
        let heart = 50;

        questionSectionsDef.forEach((section) => {
          section.questions.forEach((q) => {
            const selected = form.querySelector(`input[name="${q.id}"]:checked`);
            if (!selected) return;
            const value = selected.value;
            const opt = q.options.find((o) => o.value === value);
            if (!opt) return;
            knowledge += opt.knowledgeDelta || 0;
            practice += opt.practiceDelta || 0;
            heart += opt.heartDelta || 0;
          });
        });

        knowledge = clamp(Math.round(knowledge), 0, 100);
        practice = clamp(Math.round(practice), 0, 100);
        heart = clamp(Math.round(heart), 0, 100);
        const readiness = clamp(
          Math.round((knowledge + practice + heart) / 3),
          0,
          100
        );

        document.getElementById("res-age-chronological").textContent = ageVal;
        document.getElementById("res-knowledge").textContent = knowledge;
        document.getElementById("res-practice").textContent = practice;
        document.getElementById("res-heart").textContent = heart;
        document.getElementById("res-readiness").textContent = readiness;

        document.getElementById("res-knowledge-tagline").textContent =
          interpretDimension(knowledge, "knowledge", currentLang);
        document.getElementById("res-practice-tagline").textContent =
          interpretDimension(practice, "practice", currentLang);
        document.getElementById("res-heart-tagline").textContent =
          interpretDimension(heart, "heart", currentLang);

        const faithLevel = document.getElementById("faith-level").value;
        const interp = buildInterpretation(
          knowledge,
          practice,
          heart,
          readiness,
          ageVal,
          faithLevel
        );
        const resInterp = document.getElementById("res-interpretation");
        resInterp.textContent = interp;

        addFocusChips(knowledge, practice, heart);

        const resultsCard = document.getElementById("results-card");
        resultsCard.classList.add("visible");
        resultsCard.scrollIntoView({ behavior: "smooth", block: "start" });
      });
    });
  </script>
</body>
</html>
